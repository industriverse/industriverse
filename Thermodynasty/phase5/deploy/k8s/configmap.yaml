apiVersion: v1
kind: ConfigMap
metadata:
  name: eil-config
  namespace: eil-platform
  labels:
    app: eil-api
data:
  # API Configuration
  API_HOST: "0.0.0.0"
  API_PORT: "8000"
  API_WORKERS: "4"
  API_TIMEOUT: "120"

  # Diffusion Model
  DIFFUSION_TIMESTEPS: "1000"
  DIFFUSION_NOISE_SCHEDULE: "boltzmann"
  DIFFUSION_ENERGY_TOLERANCE: "0.01"
  DIFFUSION_TEMPERATURE: "1.0"

  # EIL Configuration
  EIL_WINDOW_SIZE: "10"
  EIL_CONFIDENCE_THRESHOLD: "0.75"
  EIL_ENERGY_GUIDANCE_SCALE: "1.0"

  # Security
  AUTH_ACCESS_TOKEN_EXPIRE_MINUTES: "30"
  AUTH_REFRESH_TOKEN_EXPIRE_DAYS: "7"
  RATE_LIMIT_ENABLED: "true"
  RATE_LIMIT_DEFAULT_LIMIT: "100"
  RATE_LIMIT_DEFAULT_WINDOW: "60"

  # S3 Configuration
  S3_BUCKET_NAME: "eil-energy-maps"
  S3_REGION: "us-east-1"
  S3_ENDPOINT_URL: ""  # Leave empty for AWS, set for MinIO/localstack

  # InfluxDB Configuration
  INFLUXDB_URL: "http://influxdb:8086"
  INFLUXDB_ORG: "eil-platform"
  INFLUXDB_BUCKET: "energy_metrics"

  # Neo4j Configuration
  NEO4J_URI: "bolt://neo4j:7687"
  NEO4J_DATABASE: "neo4j"
  NEO4J_USERNAME: "neo4j"

  # MQTT Configuration
  MQTT_BROKER_HOST: "mqtt-broker"
  MQTT_BROKER_PORT: "1883"
  MQTT_CLIENT_ID: "eil_api"
  MQTT_QOS: "1"

  # Monitoring
  PROMETHEUS_ENABLED: "true"
  PROMETHEUS_PORT: "9090"

  # Logging
  LOG_LEVEL: "INFO"
  LOG_FORMAT: "json"
