{"version":3,"file":"usePersistFn.js","sourceRoot":"","sources":["usePersistFn.ts"],"names":[],"mappings":"AAAA,OAAO,EAAE,MAAM,EAAE,MAAM,OAAO,CAAC;AAI/B;;GAEG;AACH,MAAM,UAAU,YAAY,CAAiB,EAAK;IAChD,IAAM,KAAK,GAAG,MAAM,CAAI,EAAE,CAAC,CAAC;IAC5B,KAAK,CAAC,OAAO,GAAG,EAAE,CAAC;IAEnB,IAAM,SAAS,GAAG,MAAM,CAAI,IAAI,CAAC,CAAC;IAClC,IAAI,CAAC,SAAS,CAAC,OAAO,EAAE,CAAC;QACvB,SAAS,CAAC,OAAO,GAAG;YAAyB,cAAO;iBAAP,UAAO,EAAP,qBAAO,EAAP,IAAO;gBAAP,yBAAO;;YAClD,OAAO,KAAK,CAAC,OAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;QAC1C,CAAM,CAAC;IACT,CAAC;IAED,OAAO,SAAS,CAAC,OAAQ,CAAC;AAC5B,CAAC","sourcesContent":["import { useRef } from \"react\";\n\ntype noop = (...args: any[]) => any;\n\n/**\n * usePersistFn instead of useCallback to reduce cognitive load\n */\nexport function usePersistFn<T extends noop>(fn: T) {\n  const fnRef = useRef<T>(fn);\n  fnRef.current = fn;\n\n  const persistFn = useRef<T>(null);\n  if (!persistFn.current) {\n    persistFn.current = function (this: unknown, ...args) {\n      return fnRef.current!.apply(this, args);\n    } as T;\n  }\n\n  return persistFn.current!;\n}\n"]}