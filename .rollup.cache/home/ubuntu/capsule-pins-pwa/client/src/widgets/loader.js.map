{"version":3,"file":"loader.js","sourceRoot":"","sources":["loader.ts"],"names":[],"mappings":"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","sourcesContent":["/**\n * Widget Loader\n * Week 8: White-Label Platform - Widget Build System\n * \n * Main entry point for CDN distribution\n * Loads and registers all Industriverse widgets as custom elements\n * \n * Usage:\n * <script src=\"https://cdn.industriverse.io/widgets/latest/iv-widgets.js\"></script>\n * <iv-wallet-orb balance=\"1000\" theme=\"cosmic\"></iv-wallet-orb>\n */\n\n// Widget registration system\nclass WidgetRegistry {\n  private widgets: Map<string, CustomElementConstructor> = new Map();\n  private loaded: Set<string> = new Set();\n\n  register(name: string, constructor: CustomElementConstructor) {\n    this.widgets.set(name, constructor);\n    if (!customElements.get(name)) {\n      customElements.define(name, constructor);\n      this.loaded.add(name);\n    }\n  }\n\n  get(name: string): CustomElementConstructor | undefined {\n    return this.widgets.get(name);\n  }\n\n  isLoaded(name: string): boolean {\n    return this.loaded.has(name);\n  }\n\n  getAll(): string[] {\n    return Array.from(this.widgets.keys());\n  }\n}\n\n// Base widget class\nclass IndustriverseWidget extends HTMLElement {\n  protected shadow: ShadowRoot;\n  protected config: Record<string, any> = {};\n\n  constructor() {\n    super();\n    this.shadow = this.attachShadow({ mode: 'open' });\n  }\n\n  connectedCallback() {\n    this.parseAttributes();\n    this.render();\n  }\n\n  protected parseAttributes() {\n    for (let i = 0; i < this.attributes.length; i++) {\n      const attr = this.attributes[i];\n      const value = attr.value;\n      // Try to parse as JSON, fallback to string\n      try {\n        this.config[attr.name] = JSON.parse(value);\n      } catch {\n        this.config[attr.name] = value;\n      }\n    }\n  }\n\n  protected render() {\n    // Override in subclasses\n  }\n\n  protected injectStyles(css: string) {\n    const style = document.createElement('style');\n    style.textContent = css;\n    this.shadow.appendChild(style);\n  }\n}\n\n// Wallet Orb Widget\nclass WalletOrbWidget extends IndustriverseWidget {\n  protected render() {\n    const balance = this.config.balance || 0;\n    const theme = this.config.theme || 'cosmic';\n\n    this.injectStyles(`\n      :host {\n        display: inline-block;\n      }\n      .wallet-orb {\n        width: 120px;\n        height: 120px;\n        border-radius: 50%;\n        background: linear-gradient(135deg, #0ea5e9 0%, #8b5cf6 100%);\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        box-shadow: 0 0 30px rgba(14, 165, 233, 0.5);\n        animation: pulse 2s ease-in-out infinite;\n      }\n      .balance {\n        color: white;\n        font-size: 18px;\n        font-weight: bold;\n        text-align: center;\n      }\n      @keyframes pulse {\n        0%, 100% { box-shadow: 0 0 30px rgba(14, 165, 233, 0.5); }\n        50% { box-shadow: 0 0 50px rgba(139, 92, 246, 0.8); }\n      }\n    `);\n\n    const container = document.createElement('div');\n    container.className = 'wallet-orb';\n    container.innerHTML = `<div class=\"balance\">${balance}</div>`;\n    this.shadow.appendChild(container);\n  }\n}\n\n// Proof Ticker Widget\nclass ProofTickerWidget extends IndustriverseWidget {\n  protected render() {\n    const speed = this.config.speed || 30;\n\n    this.injectStyles(`\n      :host {\n        display: block;\n        overflow: hidden;\n      }\n      .ticker {\n        display: flex;\n        gap: 20px;\n        animation: scroll ${speed}s linear infinite;\n      }\n      .proof-item {\n        padding: 8px 16px;\n        background: rgba(14, 165, 233, 0.1);\n        border: 1px solid rgba(14, 165, 233, 0.3);\n        border-radius: 4px;\n        white-space: nowrap;\n        font-size: 14px;\n      }\n      @keyframes scroll {\n        0% { transform: translateX(0); }\n        100% { transform: translateX(-50%); }\n      }\n    `);\n\n    const container = document.createElement('div');\n    container.className = 'ticker';\n    container.innerHTML = `\n      <div class=\"proof-item\">Proof #1234 verified</div>\n      <div class=\"proof-item\">Proof #1235 verified</div>\n      <div class=\"proof-item\">Proof #1236 verified</div>\n      <div class=\"proof-item\">Proof #1237 verified</div>\n      <div class=\"proof-item\">Proof #1234 verified</div>\n      <div class=\"proof-item\">Proof #1235 verified</div>\n      <div class=\"proof-item\">Proof #1236 verified</div>\n      <div class=\"proof-item\">Proof #1237 verified</div>\n    `;\n    this.shadow.appendChild(container);\n  }\n}\n\n// Capsule Card Widget\nclass CapsuleCardWidget extends IndustriverseWidget {\n  protected render() {\n    const title = this.config.title || 'Capsule';\n    const status = this.config.status || 'active';\n\n    this.injectStyles(`\n      :host {\n        display: inline-block;\n      }\n      .capsule-card {\n        padding: 16px;\n        background: rgba(15, 23, 42, 0.8);\n        border: 1px solid rgba(14, 165, 233, 0.3);\n        border-radius: 8px;\n        min-width: 200px;\n      }\n      .title {\n        font-size: 16px;\n        font-weight: bold;\n        color: #0ea5e9;\n        margin-bottom: 8px;\n      }\n      .status {\n        font-size: 12px;\n        color: #10b981;\n      }\n    `);\n\n    const container = document.createElement('div');\n    container.className = 'capsule-card';\n    container.innerHTML = `\n      <div class=\"title\">${title}</div>\n      <div class=\"status\">${status}</div>\n    `;\n    this.shadow.appendChild(container);\n  }\n}\n\n// Energy Gauge Widget\nclass EnergyGaugeWidget extends IndustriverseWidget {\n  protected render() {\n    const value = this.config.value || 75;\n\n    this.injectStyles(`\n      :host {\n        display: inline-block;\n      }\n      .gauge {\n        width: 100px;\n        height: 100px;\n        border-radius: 50%;\n        background: conic-gradient(\n          #10b981 0deg ${value * 3.6}deg,\n          rgba(16, 185, 129, 0.2) ${value * 3.6}deg 360deg\n        );\n        display: flex;\n        align-items: center;\n        justify-content: center;\n      }\n      .gauge-inner {\n        width: 70px;\n        height: 70px;\n        border-radius: 50%;\n        background: #0f172a;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        color: white;\n        font-weight: bold;\n      }\n    `);\n\n    const container = document.createElement('div');\n    container.className = 'gauge';\n    container.innerHTML = `<div class=\"gauge-inner\">${value}%</div>`;\n    this.shadow.appendChild(container);\n  }\n}\n\n// UTID Badge Widget\nclass UTIDBadgeWidget extends IndustriverseWidget {\n  protected render() {\n    const utid = this.config.utid || 'UTID-0000';\n\n    this.injectStyles(`\n      :host {\n        display: inline-block;\n      }\n      .badge {\n        padding: 8px 16px;\n        background: linear-gradient(135deg, #8b5cf6 0%, #ec4899 100%);\n        border-radius: 20px;\n        color: white;\n        font-weight: bold;\n        font-size: 14px;\n      }\n    `);\n\n    const container = document.createElement('div');\n    container.className = 'badge';\n    container.textContent = utid;\n    this.shadow.appendChild(container);\n  }\n}\n\n// AmI Pulse Widget\nclass AmIPulseWidget extends IndustriverseWidget {\n  protected render() {\n    const active = this.config.active !== false;\n\n    this.injectStyles(`\n      :host {\n        display: inline-block;\n      }\n      .pulse {\n        width: 60px;\n        height: 60px;\n        border-radius: 50%;\n        background: ${active ? '#10b981' : '#6b7280'};\n        animation: ${active ? 'pulse 1.5s ease-in-out infinite' : 'none'};\n      }\n      @keyframes pulse {\n        0%, 100% { opacity: 1; transform: scale(1); }\n        50% { opacity: 0.7; transform: scale(1.1); }\n      }\n    `);\n\n    const container = document.createElement('div');\n    container.className = 'pulse';\n    this.shadow.appendChild(container);\n  }\n}\n\n// Shadow Twin Widget\nclass ShadowTwinWidget extends IndustriverseWidget {\n  protected render() {\n    const synced = this.config.synced !== false;\n\n    this.injectStyles(`\n      :host {\n        display: inline-block;\n      }\n      .twin {\n        padding: 12px 20px;\n        background: rgba(139, 92, 246, 0.1);\n        border: 2px solid ${synced ? '#10b981' : '#f59e0b'};\n        border-radius: 8px;\n        color: ${synced ? '#10b981' : '#f59e0b'};\n        font-weight: bold;\n      }\n    `);\n\n    const container = document.createElement('div');\n    container.className = 'twin';\n    container.textContent = synced ? '✓ Synced' : '⟳ Syncing...';\n    this.shadow.appendChild(container);\n  }\n}\n\n// Initialize registry\nconst registry = new WidgetRegistry();\n\n// Register all widgets\nregistry.register('iv-wallet-orb', WalletOrbWidget);\nregistry.register('iv-proof-ticker', ProofTickerWidget);\nregistry.register('iv-capsule-card', CapsuleCardWidget);\nregistry.register('iv-energy-gauge', EnergyGaugeWidget);\nregistry.register('iv-utid-badge', UTIDBadgeWidget);\nregistry.register('iv-ami-pulse', AmIPulseWidget);\nregistry.register('iv-shadow-twin', ShadowTwinWidget);\n\n// Export for module usage\nexport { registry, IndustriverseWidget };\n\n// Global API\n(window as any).IVWidgets = {\n  registry,\n  version: '1.0.0',\n  widgets: registry.getAll(),\n};\n\nconsole.log('Industriverse Widgets loaded:', registry.getAll());\n"]}