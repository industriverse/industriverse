{"version":3,"file":"CapsulePill.jsx","sourceRoot":"","sources":["CapsulePill.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * CapsulePill Component\n * \n * Displays a capsule in one of three states:\n * - pill: Collapsed, minimal information\n * - expanded: Medium detail with actions\n * - full: Complete detail view\n */\n\nimport { useState } from 'react';\nimport { Card } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  AlertCircle,\n  AlertTriangle,\n  CheckCircle,\n  ChevronDown,\n  ChevronUp,\n  Clock,\n  Maximize2,\n  Minimize2,\n  Shield,\n  X,\n  Zap\n} from 'lucide-react';\nimport type { CapsuleData, CapsuleViewState, CapsuleStatus, CapsuleAction } from '@/types/capsule';\n\ninterface CapsulePillProps {\n  capsule: CapsuleData;\n  initialState?: CapsuleViewState;\n  onAction?: (action: CapsuleAction, capsuleId: string) => void;\n  onStateChange?: (state: CapsuleViewState) => void;\n}\n\nconst statusConfig: Record<CapsuleStatus, {\n  icon: typeof AlertCircle;\n  color: string;\n  bgColor: string;\n  borderColor: string;\n}> = {\n  active: {\n    icon: Zap,\n    color: 'text-cyan-400',\n    bgColor: 'bg-slate-800/80',\n    borderColor: 'border-cyan-500/40'\n  },\n  warning: {\n    icon: AlertTriangle,\n    color: 'text-amber-400',\n    bgColor: 'bg-slate-800/80',\n    borderColor: 'border-amber-500/40'\n  },\n  critical: {\n    icon: AlertCircle,\n    color: 'text-rose-400',\n    bgColor: 'bg-slate-800/80',\n    borderColor: 'border-rose-500/40'\n  },\n  resolved: {\n    icon: CheckCircle,\n    color: 'text-emerald-400',\n    bgColor: 'bg-slate-800/80',\n    borderColor: 'border-emerald-500/40'\n  },\n  dismissed: {\n    icon: X,\n    color: 'text-slate-400',\n    bgColor: 'bg-slate-800/50',\n    borderColor: 'border-slate-600/40'\n  }\n};\n\nconst actionConfig: Record<CapsuleAction, {\n  label: string;\n  icon: typeof Shield;\n  variant: 'default' | 'destructive' | 'outline' | 'secondary';\n}> = {\n  mitigate: {\n    label: 'Mitigate',\n    icon: Shield,\n    variant: 'default'\n  },\n  inspect: {\n    label: 'Inspect',\n    icon: Maximize2,\n    variant: 'outline'\n  },\n  dismiss: {\n    label: 'Dismiss',\n    icon: X,\n    variant: 'outline'\n  },\n  escalate: {\n    label: 'Escalate',\n    icon: AlertCircle,\n    variant: 'destructive'\n  },\n  acknowledge: {\n    label: 'Acknowledge',\n    icon: CheckCircle,\n    variant: 'secondary'\n  }\n};\n\nexport default function CapsulePill({\n  capsule,\n  initialState = 'pill',\n  onAction,\n  onStateChange\n}: CapsulePillProps) {\n  const [viewState, setViewState] = useState<CapsuleViewState>(initialState);\n  \n  const config = statusConfig[capsule.status];\n  const StatusIcon = config.icon;\n  \n  const handleStateChange = (newState: CapsuleViewState) => {\n    setViewState(newState);\n    onStateChange?.(newState);\n  };\n  \n  const handleAction = (action: CapsuleAction) => {\n    onAction?.(action, capsule.id);\n  };\n  \n  const formatTimestamp = (timestamp: string) => {\n    const date = new Date(timestamp);\n    const now = new Date();\n    const diffMs = now.getTime() - date.getTime();\n    const diffMins = Math.floor(diffMs / 60000);\n    \n    if (diffMins < 1) return 'just now';\n    if (diffMins < 60) return `${diffMins}m ago`;\n    const diffHours = Math.floor(diffMins / 60);\n    if (diffHours < 24) return `${diffHours}h ago`;\n    const diffDays = Math.floor(diffHours / 24);\n    return `${diffDays}d ago`;\n  };\n  \n  // Pill State (Collapsed)\n  if (viewState === 'pill') {\n    return (\n      <Card\n        className={`\n          ${config.bgColor} ${config.borderColor}\n          border-2 p-3 cursor-pointer\n          transition-all duration-200 hover:scale-[1.02] hover:shadow-lg\n          animate-in slide-in-from-bottom-2\n        `}\n        onClick={() => handleStateChange('expanded')}\n      >\n        <div className=\"flex items-center gap-3\">\n          <StatusIcon className={`${config.color} h-5 w-5 flex-shrink-0`} />\n          <div className=\"flex-1 min-w-0\">\n            <p className=\"text-sm font-medium text-foreground truncate\">\n              {capsule.title}\n            </p>\n            <p className=\"text-xs text-muted-foreground truncate\">\n              {capsule.source}\n            </p>\n          </div>\n          <div className=\"flex items-center gap-2 flex-shrink-0\">\n            <Badge variant=\"outline\" className=\"text-xs\">\n              P{capsule.priority}\n            </Badge>\n            <ChevronDown className=\"h-4 w-4 text-muted-foreground\" />\n          </div>\n        </div>\n      </Card>\n    );\n  }\n  \n  // Expanded State (Medium Detail)\n  if (viewState === 'expanded') {\n    return (\n      <Card\n        className={`\n          ${config.bgColor} ${config.borderColor}\n          border-2 p-4\n          transition-all duration-200\n          animate-in slide-in-from-top-2\n        `}\n      >\n        <div className=\"space-y-3\">\n          {/* Header */}\n          <div className=\"flex items-start gap-3\">\n            <StatusIcon className={`${config.color} h-6 w-6 flex-shrink-0 mt-0.5`} />\n            <div className=\"flex-1 min-w-0\">\n              <h3 className=\"text-base font-semibold text-foreground\">\n                {capsule.title}\n              </h3>\n              <p className=\"text-sm text-muted-foreground mt-1\">\n                {capsule.description}\n              </p>\n            </div>\n            <div className=\"flex gap-1 flex-shrink-0\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-8 w-8\"\n                onClick={() => handleStateChange('full')}\n              >\n                <Maximize2 className=\"h-4 w-4\" />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                className=\"h-8 w-8\"\n                onClick={() => handleStateChange('pill')}\n              >\n                <ChevronUp className=\"h-4 w-4\" />\n              </Button>\n            </div>\n          </div>\n          \n          {/* Metadata */}\n          <div className=\"flex items-center gap-4 text-xs text-muted-foreground\">\n            <div className=\"flex items-center gap-1\">\n              <Clock className=\"h-3 w-3\" />\n              <span>{formatTimestamp(capsule.timestamp)}</span>\n            </div>\n            <Badge variant=\"outline\" className=\"text-xs\">\n              Priority {capsule.priority}\n            </Badge>\n            <Badge variant=\"secondary\" className=\"text-xs\">\n              {capsule.source}\n            </Badge>\n          </div>\n          \n          {/* Actions */}\n          <div className=\"flex flex-wrap gap-2 pt-2\">\n            {capsule.actions.map((action) => {\n              const actionCfg = actionConfig[action];\n              const ActionIcon = actionCfg.icon;\n              return (\n                <Button\n                  key={action}\n                  variant={actionCfg.variant}\n                  size=\"sm\"\n                  onClick={() => handleAction(action)}\n                  className=\"gap-1.5\"\n                >\n                  <ActionIcon className=\"h-3.5 w-3.5\" />\n                  {actionCfg.label}\n                </Button>\n              );\n            })}\n          </div>\n        </div>\n      </Card>\n    );\n  }\n  \n  // Full State (Complete Detail)\n  return (\n    <Card\n      className={`\n        ${config.bgColor} ${config.borderColor}\n        border-2 p-6\n        transition-all duration-200\n        animate-in slide-in-from-top-4\n      `}\n    >\n      <div className=\"space-y-4\">\n        {/* Header */}\n        <div className=\"flex items-start gap-4\">\n          <div className={`${config.bgColor} p-3 rounded-lg border ${config.borderColor}`}>\n            <StatusIcon className={`${config.color} h-8 w-8`} />\n          </div>\n          <div className=\"flex-1 min-w-0\">\n            <div className=\"flex items-center gap-2 mb-1\">\n              <Badge variant=\"outline\">\n                Priority {capsule.priority}\n              </Badge>\n              <Badge className={config.color}>\n                {capsule.status.toUpperCase()}\n              </Badge>\n            </div>\n            <h2 className=\"text-xl font-bold text-foreground\">\n              {capsule.title}\n            </h2>\n            <p className=\"text-sm text-muted-foreground mt-2\">\n              {capsule.description}\n            </p>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => handleStateChange('expanded')}\n          >\n            <Minimize2 className=\"h-5 w-5\" />\n          </Button>\n        </div>\n        \n        {/* Metadata Grid */}\n        <div className=\"grid grid-cols-2 gap-4 p-4 bg-background/50 rounded-lg border border-border\">\n          <div>\n            <p className=\"text-xs text-muted-foreground mb-1\">Source</p>\n            <p className=\"text-sm font-medium text-foreground\">{capsule.source}</p>\n          </div>\n          <div>\n            <p className=\"text-xs text-muted-foreground mb-1\">Timestamp</p>\n            <p className=\"text-sm font-medium text-foreground\">\n              {new Date(capsule.timestamp).toLocaleString()}\n            </p>\n          </div>\n          {capsule.utid && (\n            <div>\n              <p className=\"text-xs text-muted-foreground mb-1\">UTID</p>\n              <p className=\"text-sm font-mono text-foreground truncate\">{capsule.utid}</p>\n            </div>\n          )}\n          {capsule.proofId && (\n            <div>\n              <p className=\"text-xs text-muted-foreground mb-1\">Proof ID</p>\n              <p className=\"text-sm font-mono text-foreground truncate\">{capsule.proofId}</p>\n            </div>\n          )}\n          {capsule.energyConsumed !== undefined && (\n            <div>\n              <p className=\"text-xs text-muted-foreground mb-1\">Energy Consumed</p>\n              <p className=\"text-sm font-medium text-foreground\">{capsule.energyConsumed.toFixed(2)} J</p>\n            </div>\n          )}\n          {capsule.carbonFootprint !== undefined && (\n            <div>\n              <p className=\"text-xs text-muted-foreground mb-1\">Carbon Footprint</p>\n              <p className=\"text-sm font-medium text-foreground\">{capsule.carbonFootprint.toFixed(4)} kg COâ‚‚</p>\n            </div>\n          )}\n        </div>\n        \n        {/* Additional Metadata */}\n        {Object.keys(capsule.metadata).length > 0 && (\n          <div className=\"p-4 bg-background/50 rounded-lg border border-border\">\n            <h4 className=\"text-sm font-semibold text-foreground mb-2\">Additional Information</h4>\n            <div className=\"space-y-1\">\n              {Object.entries(capsule.metadata).map(([key, value]) => (\n                <div key={key} className=\"flex justify-between text-sm\">\n                  <span className=\"text-muted-foreground\">{key}:</span>\n                  <span className=\"text-foreground font-medium\">{String(value)}</span>\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n        \n        {/* Actions */}\n        <div className=\"flex flex-wrap gap-2 pt-2\">\n          {capsule.actions.map((action) => {\n            const actionCfg = actionConfig[action];\n            const ActionIcon = actionCfg.icon;\n            return (\n              <Button\n                key={action}\n                variant={actionCfg.variant}\n                onClick={() => handleAction(action)}\n                className=\"gap-2\"\n              >\n                <ActionIcon className=\"h-4 w-4\" />\n                {actionCfg.label}\n              </Button>\n            );\n          })}\n        </div>\n      </div>\n    </Card>\n  );\n}\n"]}