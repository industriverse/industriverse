{"version":3,"file":"FeatureFlagsManager.jsx","sourceRoot":"","sources":["FeatureFlagsManager.tsx"],"names":[],"mappings":"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","sourcesContent":["/**\n * Feature Flags Manager Page\n * Week 8: White-Label Platform - Phase 4\n * \n * UI for managing feature flags across white-label deployments.\n */\n\nimport { useState } from 'react';\nimport { Button } from '@/components/ui/button';\nimport { Card } from '@/components/ui/card';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { useFeatureFlags, featureFlags } from '@/services/FeatureFlags';\nimport type { FeatureFlag } from '@/services/FeatureFlags';\nimport { toast } from 'sonner';\n\nexport default function FeatureFlagsManager() {\n  const flags = useFeatureFlags();\n  const [activeCategory, setActiveCategory] = useState<FeatureFlag['category']>('core');\n\n  const categories: FeatureFlag['category'][] = ['core', 'widget', 'ami', 'integration', 'experimental'];\n\n  const handleToggle = (flagKey: string) => {\n    featureFlags.toggle(flagKey);\n    toast.success('Feature flag updated');\n  };\n\n  const handleExport = () => {\n    const config = featureFlags.exportConfig();\n    const json = JSON.stringify(config, null, 2);\n    const blob = new Blob([json], { type: 'application/json' });\n    const url = URL.createObjectURL(blob);\n    const a = document.createElement('a');\n    a.href = url;\n    a.download = `feature-flags-${config.tenantId}.json`;\n    a.click();\n    toast.success('Configuration exported');\n  };\n\n  const handleReset = () => {\n    if (confirm('Reset all flags to defaults?')) {\n      featureFlags.resetToDefaults();\n      toast.success('Flags reset to defaults');\n    }\n  };\n\n  const categoryFlags = flags.filter(flag => flag.category === activeCategory);\n  const enabledCount = categoryFlags.filter(f => f.enabled).length;\n\n  return (\n    <div className=\"min-h-screen bg-background\">\n      {/* Header */}\n      <header className=\"border-b border-border bg-card\">\n        <div className=\"container mx-auto px-4 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <h1 className=\"text-2xl font-bold text-foreground\">Feature Flags</h1>\n              <p className=\"text-sm text-muted-foreground\">Per-tenant feature management</p>\n            </div>\n            <div className=\"flex items-center gap-3\">\n              <Button variant=\"outline\" onClick={handleExport}>\n                Export Config\n              </Button>\n              <Button variant=\"outline\" onClick={handleReset}>\n                Reset to Defaults\n              </Button>\n              <Button variant=\"outline\" onClick={() => window.location.href = '/admin'}>\n                Back to Admin\n              </Button>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      {/* Main Content */}\n      <main className=\"container mx-auto px-4 py-8\">\n        <Tabs value={activeCategory} onValueChange={(v) => setActiveCategory(v as FeatureFlag['category'])}>\n          <TabsList className=\"grid w-full grid-cols-5\">\n            {categories.map((cat) => (\n              <TabsTrigger key={cat} value={cat} className=\"capitalize\">\n                {cat}\n              </TabsTrigger>\n            ))}\n          </TabsList>\n\n          {categories.map((category) => (\n            <TabsContent key={category} value={category} className=\"space-y-6\">\n              <Card className=\"p-6\">\n                <div className=\"flex items-center justify-between mb-6\">\n                  <div>\n                    <h2 className=\"text-xl font-semibold capitalize\">{category} Features</h2>\n                    <p className=\"text-sm text-muted-foreground mt-1\">\n                      {enabledCount} of {categoryFlags.length} enabled\n                    </p>\n                  </div>\n                  <div className=\"flex gap-2\">\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => {\n                        const updates: Record<string, boolean> = {};\n                        categoryFlags.forEach(flag => {\n                          updates[flag.key] = true;\n                        });\n                        featureFlags.updateFlags(updates);\n                        toast.success('All flags enabled');\n                      }}\n                    >\n                      Enable All\n                    </Button>\n                    <Button\n                      variant=\"outline\"\n                      size=\"sm\"\n                      onClick={() => {\n                        const updates: Record<string, boolean> = {};\n                        categoryFlags.forEach(flag => {\n                          updates[flag.key] = false;\n                        });\n                        featureFlags.updateFlags(updates);\n                        toast.success('All flags disabled');\n                      }}\n                    >\n                      Disable All\n                    </Button>\n                  </div>\n                </div>\n\n                <div className=\"space-y-4\">\n                  {categoryFlags.map((flag) => (\n                    <Card key={flag.key} className=\"p-4\">\n                      <div className=\"flex items-start justify-between\">\n                        <div className=\"flex-1\">\n                          <div className=\"flex items-center gap-3\">\n                            <h3 className=\"text-lg font-medium\">{flag.name}</h3>\n                            <span\n                              className={`text-xs px-2 py-1 rounded ${\n                                flag.enabled\n                                  ? 'bg-status-success/20 text-status-success'\n                                  : 'bg-muted text-muted-foreground'\n                              }`}\n                            >\n                              {flag.enabled ? 'Enabled' : 'Disabled'}\n                            </span>\n                          </div>\n                          <p className=\"text-sm text-muted-foreground mt-2\">{flag.description}</p>\n                          <div className=\"text-xs text-muted-foreground mt-2 font-mono\">\n                            {flag.key}\n                          </div>\n                        </div>\n                        <Button\n                          variant={flag.enabled ? 'default' : 'outline'}\n                          size=\"sm\"\n                          onClick={() => handleToggle(flag.key)}\n                        >\n                          {flag.enabled ? 'Disable' : 'Enable'}\n                        </Button>\n                      </div>\n                    </Card>\n                  ))}\n                </div>\n              </Card>\n            </TabsContent>\n          ))}\n        </Tabs>\n\n        {/* Summary Card */}\n        <Card className=\"p-6 mt-6\">\n          <h2 className=\"text-xl font-semibold mb-4\">Configuration Summary</h2>\n          <div className=\"grid grid-cols-2 md:grid-cols-5 gap-4\">\n            {categories.map((category) => {\n              const catFlags = flags.filter(f => f.category === category);\n              const enabled = catFlags.filter(f => f.enabled).length;\n              return (\n                <div key={category} className=\"text-center\">\n                  <div className=\"text-2xl font-bold text-brand-primary\">\n                    {enabled}/{catFlags.length}\n                  </div>\n                  <div className=\"text-sm text-muted-foreground capitalize mt-1\">\n                    {category}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </Card>\n      </main>\n    </div>\n  );\n}\n"]}